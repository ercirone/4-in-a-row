{"version":3,"sources":["Piece.js","Column.js","Grid.js","Game.js","index.js"],"names":["Piece","i","this","props","row","j","column","classes","type","highlighted","push","cx","cy","r","className","join","React","Component","TopPiece","number","topPieceVisibility","visible","full","x1","y1","x2","y2","blueIsNext","Column","state","mouseOver","disabled","x","y","rx","ry","width","height","onClick","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","setState","Grid","pieces","pieceIndex","includes","columns","filter","piece","index","gameOver","viewBox","Game","Array","fill","winning","winningPieces","handleClick","length","p","findIndex","newPieceType","newPieces","winningRows","map","k","a","b","c","d","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9591ef19.chunk.js","sourcesContent":["import React from 'react';\nimport './Piece.css';\n\nclass Piece extends React.Component {\n  render() {\n    const i = this.props.row; // Ranging from 1 to 6.\n    const  j = this.props.column; // Ranging from 1 to 7.\n    let classes = ['Piece', this.props.type];\n    if (this.props.highlighted) {\n        classes.push('highlighted');\n    }\n    return(\n      <circle\n        cx={5 + (j + 0.5) * 50}\n        cy={355 - (i + 0.5) * 50}\n        r=\"22\"\n        className={classes.join(' ')}\n      />\n    );\n  }\n}\n\nexport default Piece;","import React from 'react';\nimport './Column.css';\n\nfunction TopPiece(props) {\n    const j = props.number;\n    const topPieceVisibility = props.visible ? 'Visible' : 'Hidden';\n    if (!props.visible) {\n        return null;\n    }\n    if (props.full) {\n        return(\n            <g>\n                <line\n                    x1={5 + (j + 0.5) * 50 - 15}\n                    y1=\"10\"\n                    x2={5 + (j + 0.5) * 50 + 15}\n                    y2=\"40\"\n                    className={topPieceVisibility}\n                />\n                <line\n                    x1={5 + (j + 0.5) * 50 + 15}\n                    y1=\"10\"\n                    x2={5 + (j + 0.5) * 50 - 15}\n                    y2=\"40\"\n                    className={topPieceVisibility}\n                />\n            </g>\n        );\n    } else {\n        return(\n            <circle\n                cx={5 + (j + 0.5) * 50}\n                cy=\"25\"\n                r=\"22\"\n                className={\n                    'Piece ' +\n                    topPieceVisibility + ' ' +\n                    (props.blueIsNext ? 'B' : 'R')\n                }\n            />\n        );\n    }\n}\n\n\nclass Column extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {mouseOver: false};\n    }\n\n    render() {\n        const disabled = this.props.disabled ? 'disabled' : '';\n        const j = this.props.number;\n        return(\n            <g>\n                <TopPiece\n                    number={j}\n                    visible={this.state.mouseOver}\n                    full={this.props.full}\n                    blueIsNext={this.props.blueIsNext}\n                />\n                <rect\n                    x={8 + j * 50}\n                    y=\"58\"\n                    rx=\"22\"\n                    ry=\"22\"\n                    width=\"44\"\n                    height=\"294\"\n                    onClick={() => this.props.onClick(\n                        this.props.disabled || this.props.full,\n                        this.props.number\n                    )}\n                    onMouseEnter={() => this.handleMouseEnter()}\n                    onMouseLeave={() => this.handleMouseLeave()}\n                    className={'Column ' + disabled}\n                />\n            </g>\n        );\n    }\n\n    handleMouseEnter() {\n        this.setState({mouseOver: true});\n    }\n\n    handleMouseLeave() {\n        this.setState({mouseOver: false});\n    }\n}\n\nexport default Column;","import React from 'react';\nimport Piece from './Piece';\nimport Column from './Column';\nimport './Grid.css';\n\nclass Grid extends React.Component {\n  render() {\n    let pieces = [];\n    for (let j=0; j<7; j++) {\n      for (let i=0; i<6; i++) {\n        const pieceIndex = j + 7 * i;\n        const type = this.props.pieces[pieceIndex];\n        pieces.push(\n          <Piece\n            row={i}\n            column={j}\n            type={type}\n            highlighted={this.props.highlighted.includes(pieceIndex)}\n            key={'piece-' + pieceIndex}\n          />\n        );\n      }\n    }\n    let columns = [];\n    for (let j=0; j<7; j++) {\n      const column = this.props.pieces.filter((piece, index) => (index % 7 === j));\n      const full = !column.includes('E');\n      columns.push(\n        <Column\n          number={j}\n          onClick={(disabled, column) => this.props.onClick(disabled, column)}\n          full={full}\n          disabled={this.props.gameOver}\n          blueIsNext={this.props.blueIsNext}\n          key={'column-' + j}\n        />\n      );\n    }\n    return (\n      <svg width=\"360\" height=\"360\" viewBox=\"0 0 360 360\" className=\"Grid\">\n        <rect x=\"3\" y=\"53\" width=\"354\" height=\"304\" className=\"Rect\" />\n        {pieces}\n        {columns}\n      </svg>\n    );\n  }\n}\n\nexport default Grid;","import React from 'react';\nimport Grid from './Grid';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pieces: Array(42).fill('E'), // 'E' stands for empty.\n      /*  \n      i = row (from bottom to top)\n      j = column (from left to right)\n      (i,j)-coordinate goes to j + 7 * i\n      */\n      blueIsNext: true,\n    };\n  }\n\n  render() {\n    const winning = this.winningPieces();\n    return (\n      <div className=\"game\">\n        <Grid\n          pieces={this.state.pieces}\n          onClick={(disabled, column) => this.handleClick(disabled, column)}\n          gameOver={winning.length !== 0}\n          highlighted={winning}\n          blueIsNext={this.state.blueIsNext}\n          />\n      </div>\n    );\n  }\n\n  handleClick(disabled, column) {\n    if (!disabled) {\n      const columnToChange = this.state.pieces.filter((p,i) => (i%7 === column));\n      const row = columnToChange.findIndex(p => (p === 'E'));\n      const newPieceType = this.state.blueIsNext ? 'B' : 'R';\n      let newPieces = [...this.state.pieces];\n      newPieces[column + 7 * row] = newPieceType;\n      this.setState({\n        pieces: newPieces,\n        blueIsNext: !this.state.blueIsNext,\n      });\n    }\n  }\n\n  winningPieces() {\n    let winningRows = [];\n    // Adds winning rows\n    for (let j=0; j<=3; j++) {\n      for (let i=0; i<=5; i++) {\n        winningRows.push([0,1,2,3].map(k => k + j + 7 * i));\n      }\n    }\n    // Adds winning columns\n    for (let j=0; j<=6; j++) {\n      for (let i=0; i<=2; i++) {\n        winningRows.push([0,7,14,21].map(k => k + j + 7 * i));\n      }\n    }\n    // Adds winning diagonals\n    for (let j=0; j<=3; j++) {\n      for (let i=0; i<=2; i++) {\n        winningRows.push([0,8,16,24].map(k => k + j + 7 * i));\n      }\n    }\n    // Adds winning antidiagonals\n    for (let j=0; j<=3; j++) {\n      for (let i=0; i<=2; i++) {\n        winningRows.push([21,15,9,3].map(k => k + j + 7 * i));\n      }\n    }\n    const pieces = this.state.pieces;\n    for (let [a,b,c,d] of winningRows) {\n      if (pieces[a] !== 'E' && pieces[a] === pieces[b] && pieces[b] === pieces[c] && pieces[c] === pieces[d]) {\n        return [a,b,c,d];\n      }\n    }\n    return [];\n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Game from './Game';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <h1>4 in a row</h1>\n    <Game />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}